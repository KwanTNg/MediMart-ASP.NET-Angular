<!-- Floating Chatbot Button & Panel -->
<div class="fixed bottom-4 right-4 z-50 flex flex-col items-end">

  <!-- Toggle Button -->
  <button mat-flat-button (click)="toggleChat()" class="w-full">
    {{ isOpen ? 'Close Chat' : 'Chat with us ðŸ’¬' }}
  </button>

  <!-- Chat Panel -->
  <div *ngIf="isOpen" class="mt-2 w-80 h-[450px] bg-white border border-gray-300 rounded shadow-lg flex flex-col p-4">
    <h2 class="text-lg font-bold mb-2">Ask our AI Assistant</h2>

    <div class="flex-1 overflow-y-auto mb-2 space-y-2">
      <div *ngFor="let msg of messages" [ngClass]="msg.from === 'user' ? 'text-right' : 'text-left'">
        <span class="inline-block px-3 py-2 rounded" 
              [ngClass]="msg.from === 'user' ? 'bg-blue-100' : 'bg-gray-100'">
          {{ msg.text }}
        </span>
      </div>
    </div>

    <div class="flex gap-2">
      <input [(ngModel)]="userInput" (keydown.enter)="sendMessage()" class="text-sm pl-3 text-gray-950 border border-gray-300 rounded-full flex-1" placeholder="Type a message..." />
      <button mat-flat-button (click)="sendMessage()">Send</button>
    </div>
  </div>

</div>


<!-- <div class="p-4 border rounded shadow max-w-xl mx-auto">
  <h2 class="text-lg font-bold mb-4">Ask our AI Assistant</h2>

  <div *ngFor="let msg of messages" [ngClass]="msg.from === 'user' ? 'text-right' : 'text-left'" class="mb-2">
    <span class="inline-block px-4 py-2 rounded" [ngClass]="msg.from === 'user' ? 'bg-blue-100' : 'bg-gray-100'">
      {{ msg.text }}
    </span>
  </div>

  <div class="flex mt-4 gap-2">
    <input [(ngModel)]="userInput" class="border p-2 flex-grow rounded" placeholder="Type a message..." />
    <button (click)="sendMessage()" class="bg-blue-500 text-white px-4 py-2 rounded">Send</button>
  </div>
</div> -->

