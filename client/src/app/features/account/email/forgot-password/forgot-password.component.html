<div class="max-w-md mx-auto mt-24 p-6">
  <ng-container *ngIf="!emailSent; else sentTemplate">
    <h1 class="text-2xl font-semibold mb-4">Forgot your password?</h1>
    <p class="mb-4 text-sm text-gray-600">No worries â€” reset it easily.</p>

    <form [formGroup]="forgotForm" (ngSubmit)="onSubmit()">
      <mat-form-field appearance="outline" class="w-full text-gray-600">
        <mat-label class="text-gray-600">Registered email address</mat-label>
        <input matInput formControlName="email" type="email" required />
        <mat-error *ngIf="forgotForm.get('email')?.hasError('required')">Email is required</mat-error>
        <mat-error *ngIf="forgotForm.get('email')?.hasError('email')">Enter a valid email</mat-error>
      </mat-form-field>

      <button mat-flat-button color="primary" class="w-full mt-4" [disabled]="loading || forgotForm.invalid">
        <mat-spinner *ngIf="loading" diameter="20"></mat-spinner>
        <span *ngIf="!loading">Continue</span>
      </button>
    </form>

    <button mat-button color="accent" class="mt-4 text-blue-600" (click)="backToLogin()">Back to Login</button>
  </ng-container>

  <ng-template #sentTemplate>
    <p class="text-green-600 text-sm mt-6">
      If you are registered with us, a reset link has been sent to your email.
    </p>
    <button mat-button color="accent" class="mt-4" (click)="backToLogin()">Back to Login</button>
  </ng-template>
</div>
